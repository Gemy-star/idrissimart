# content/management/commands/populate_cities.py
from django.core.management.base import BaseCommand
from content.models import Country


class Command(BaseCommand):
    help = "Populate cities for each country"

    def handle(self, *args, **options):
        """Populate cities for all countries"""

        # Comprehensive city lists for each country
        cities_data = {
            "SA": [
                # Major Cities
                "الرياض",
                "جدة",
                "مكة المكرمة",
                "المدينة المنورة",
                "الدمام",
                "الخبر",
                "الظهران",
                "الطائف",
                "تبوك",
                "بريدة",
                "خميس مشيط",
                "الهفوف",
                "المبرز",
                "القطيف",
                "حائل",
                "حفر الباطن",
                "الجبيل",
                "ضبا",
                "الخرج",
                "أبها",
                "ينبع",
                "القريات",
                "الباحة",
                "عرعر",
                "سكاكا",
                "جيزان",
                "نجران",
                "الأحساء",
                "القنفذة",
                "رابغ",
                "محايل",
                "صبيا",
                "خليص",
                "بيشة",
                "رفحاء",
                "عنيزة",
                "الرس",
                "بقيق",
                "الزلفي",
                "الدوادمي",
                "صامطة",
                "وادي الدواسر",
                "الليث",
                "املج",
                "طريف",
                "تثليث",
                "سيهات",
                "الجموم",
                "ثادق",
                "عفيف",
            ],
            "EG": [
                # Cairo Governorate
                "القاهرة",
                "الجيزة",
                "شبرا الخيمة",
                "المطرية",
                "حلوان",
                "المعادي",
                "مدينة نصر",
                "الدقي",
                "المهندسين",
                "العباسية",
                "مصر الجديدة",
                "المقطم",
                "الزمالك",
                "وسط البلد",
                "عين شمس",
                "مصر القديمة",
                # Alexandria and Coastal Cities
                "الإسكندرية",
                "بورسعيد",
                "السويس",
                "دمياط",
                "رشيد",
                "مرسى مطروح",
                "العريش",
                "رفح",
                "الإسماعيلية",
                # Delta Cities
                "المنصورة",
                "طنطا",
                "الزقازيق",
                "المحلة الكبرى",
                "شبين الكوم",
                "كفر الشيخ",
                "بنها",
                "دمنهور",
                "قويسنا",
                "ميت غمر",
                "كفر الدوار",
                "دسوق",
                "فوه",
                "أشمون",
                "الباجور",
                "منوف",
                # Upper Egypt Cities
                "الأقصر",
                "أسوان",
                "أسيوط",
                "سوهاج",
                "قنا",
                "المنيا",
                "بني سويف",
                "الفيوم",
                "الوادي الجديد",
                "ملوي",
                "دير مواس",
                "مغاغة",
                "سمالوط",
                "ديروط",
                "البداري",
                "أبنوب",
                "منفلوط",
                "طما",
                "جرجا",
                "طهطا",
                "فرشوط",
                "نجع حمادي",
                "دشنا",
                "كوم أمبو",
                "إدفو",
                # Canal Cities
                "بورفؤاد",
                "فايد",
                "القنطرة",
                "العبور",
                # Other Major Cities
                "العاشر من رمضان",
                "السادس من أكتوبر",
                "مدينة بدر",
                "الشروق",
                "التجمع الخامس",
                "الرحاب",
                "الشيخ زايد",
                "العبور",
                "القاهرة الجديدة",
            ],
            "AE": [
                # Abu Dhabi Emirate
                "أبوظبي",
                "العين",
                "الظفرة",
                "مصفح",
                "خليفة",
                "المشرف",
                "بني ياس",
                "الشهامة",
                "الرحبة",
                "جبل الظنة",
                # Dubai Emirate
                "دبي",
                "ديرة",
                "بر دبي",
                "جميرا",
                "مرسى دبي",
                "الممزر",
                "الخوانيج",
                "الراشدية",
                "القصيص",
                "ند الشبا",
                "الورقاء",
                "البرشاء",
                "أم سقيم",
                "الصفا",
                # Sharjah Emirate
                "الشارقة",
                "خورفكان",
                "كلباء",
                "دبا الحصن",
                "الذيد",
                "المنامة",
                "الحمرية",
                # Ajman Emirate
                "عجمان",
                "مصفوت",
                # Umm Al Quwain Emirate
                "أم القيوين",
                "الدرر",
                # Ras Al Khaimah Emirate
                "رأس الخيمة",
                "دغداغة",
                "شعم",
                "خت",
                "الجزيرة الحمراء",
                # Fujairah Emirate
                "الفجيرة",
                "دبا الفجيرة",
                "قدفع",
                "البدية",
                "مسافي",
            ],
            "KW": [
                # Kuwait Governorates
                "الكويت",
                "حولي",
                "الفروانية",
                "الجهراء",
                "الأحمدي",
                "مبارك الكبير",
                # Major Areas in Kuwait City
                "السالمية",
                "الفحيحيل",
                "المنقف",
                "الجابرية",
                "بيان",
                "مشرف",
                "الرميثية",
                "الشعب",
                "الشامية",
                "الصليبخات",
                "الدوحة",
                "النزهة",
                "القادسية",
                "اليرموك",
                "كيفان",
                "الخالدية",
                "القبلة",
                "المرقاب",
                "الشرق",
                "دسمان",
                "الصوابر",
                "الري",
                "الفيحاء",
                "المنصورية",
                "الرقة",
                "الروضة",
                "السرة",
                "حطين",
                "العديلية",
                "الزهراء",
                "الشهداء",
                "الفردوس",
                "اشبيلية",
                "الاندلس",
                "صباح السالم",
                "العمرية",
                "الرابية",
                "الضجيج",
                "الصباحية",
                "ضاحية جابر العلي",
                "ضاحية فهد الأحمد",
                "ضاحية علي صباح السالم",
                "المهبولة",
                "ابو حليفة",
                "الفنطاس",
                "الصباحية",
                "الرقعي",
                "جابر الأحمد",
                "سعد العبدالله",
                "الوفرة",
                "النويصيب",
                "كبد",
                "الشعيبة",
                "ميناء عبدالله",
            ],
            "QA": [
                # Municipalities
                "الدوحة",
                "الريان",
                "الوكرة",
                "أم صلال",
                "الخور",
                "الشمال",
                "الشحانية",
                "الضعاين",
                # Major Areas in Doha
                "المدينة القديمة",
                "الخليج الغربي",
                "الخليج الشرقي",
                "السد",
                "الدفنة",
                "المرقاب",
                "العزيزية",
                "بن محمود",
                "النصر",
                "المنصورة",
                "الغانم",
                "الجسرة",
                "الرفاع",
                "الصالحية",
                "الهلال",
                "الخريطيات",
                "الدحيل",
                "عين خالد",
                "المعمورة",
                "الوعب",
                "الثمامة",
                "مسيمير",
                "الغرافة",
                "بوهامور",
                "الطريف",
                "نجمة",
                "مشيرب",
                "الكهرباء",
                "روضة الخيل",
                "الظاهرة",
                "الصقلاوية",
                "الكوثر",
                "اللقطة",
                "أبو نخلة",
                "أبو هامور",
                "الغرافة الجديدة",
                # Al Rayyan Areas
                "مدينة خليفة",
                "معيذر",
                "الوجبة",
                "المعراض",
                "الريان القديم",
                "الريان الجديد",
                "الغرافة",
                "الغرافة الجديدة",
                "مدينة الوكير",
                "سميسمة",
                "الخرارة",
                "الفرستان",
                "الأميرية",
                # Al Wakrah Areas
                "الوكير",
                "الكعبان",
                "مسيعيد",
                "الوكرة الجنوبية",
                # Other Cities
                "دخان",
                "سيلين",
                "ام باب",
                "الجميلية",
                "راس لفان",
                "الرويس",
                "الذخيرة",
                "فويرط",
            ],
            "BH": [
                # Governorates and Major Cities
                "المنامة",
                "المحرق",
                "الرفاع",
                "المدينة",
                "الجسرة",
                "عيسى",
                "حمد",
                "سار",
                "بديع",
                "البديع",
                "جدحفص",
                "عالي",
                "سلماباد",
                "كرزكان",
                "مدينة عيسى",
                "سترة",
                "سماهيج",
                "الدراز",
                "بني جمرة",
                "باربار",
                "الديه",
                "قلالي",
                "الدير",
                "الماحوز",
                "القدم",
                "السنابس",
                "العدلية",
                "الحورة",
                "النويدرات",
                "السيف",
                "جفير",
                "الزنج",
                "الحد",
                "الحالة",
                "البسيتين",
                "القضيبية",
                "الشاخورة",
                "السهلة",
                "جد علي",
                "أم الحصم",
                "السهلة الشمالية",
                "السهلة الجنوبية",
                "ابو صيبع",
                "دمستان",
                "الشاخورة",
                "الماركية",
                "توبلي",
                "النعيم",
                "الخارجية",
                "عراد",
                "الحجر",
                "القرية",
                "الدور",
                "جبلة حبشي",
                "الحجيات",
                "القرية الجديدة",
                "البلاد القديم",
                "المحرق القديم",
                "رأس رمان",
                "الخميس",
                "الزلاق",
                "عسكر",
                "مقابة",
                "الصخير",
                "عوالي",
                "هورة عالي",
                "الشاكورة",
            ],
        }

        self.stdout.write(self.style.NOTICE("Starting to populate cities..."))

        updated_count = 0
        for country_code, cities_list in cities_data.items():
            try:
                country = Country.objects.get(code=country_code)
                country.cities = cities_list
                country.save()
                updated_count += 1
                self.stdout.write(
                    self.style.SUCCESS(
                        f"✓ Updated {country.name} ({country_code}) with {len(cities_list)} cities"
                    )
                )
            except Country.DoesNotExist:
                self.stdout.write(
                    self.style.WARNING(
                        f"⚠ Country with code {country_code} not found. Skipping..."
                    )
                )

        self.stdout.write(
            self.style.SUCCESS(
                f"\n✅ Successfully updated {updated_count} countries with city data!"
            )
        )
