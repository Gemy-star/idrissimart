{% load static i18n user_tags %}

<aside class="blog-sidebar">
    {% if blog %}
        <!-- Author Card (visible on detail page) -->
        <div class="card ad-details-card mb-4">
            <div class="card-header">
                <h5 class="card-title-main">{% trans "عن الكاتب" %}</h5>
            </div>
            <div class="card-body text-center">
                {% user_avatar user=blog.author size=80 css_class="rounded-circle mb-3" %}
                <h6 class="seller-name">{{ blog.author.get_display_name }}</h6>
                <small class="text-muted d-block mb-2">{{ blog.author.get_rank_display }}</small>
                {% if blog.author.verification_status == 'verified' %}
                    <span class="badge badge-verified">
                        <i class="fas fa-check-circle me-1"></i>
                        {% trans "كاتب موثق" %}
                    </span>
                {% endif %}
            </div>
        </div>
    {% endif %}
    <!-- Popular Tags Section -->
    <div class="sidebar-widget">
        <h3 class="widget-title">{% trans "الوسوم الشائعة" %}</h3>
        <div class="tag-cloud">
            {% for tag in popular_tags %}
                <a href="{% url 'content:blog_list_by_tag' tag.slug %}" class="tag">{{ tag.name }}</a>
            {% empty %}
                <p>{% trans "لا توجد وسوم بعد." %}</p>
            {% endfor %}
        </div>
    </div>
    <!-- All Tags Section -->
    <div class="sidebar-widget">
        <h3 class="widget-title">{% trans "كل الوسوم" %}</h3>
        <div class="tag-cloud">
            {% for tag in all_tags %}
                <a href="{% url 'content:blog_list_by_tag' tag.slug %}" class="tag">{{ tag.name }}</a>
            {% empty %}
                <p>{% trans "لا توجد وسوم بعد." %}</p>
            {% endfor %}
        </div>
    </div>
</aside>
