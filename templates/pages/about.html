{% extends 'base.html' %}

{% load static %}
{% load i18n %}

{% block title %}
    {% trans "من نحن" %} - {% trans "إدريسي مارت" %}

{% endblock %}

{% block content %}
    <!-- About Hero Section -->
    <section class="page-hero">
        <div class="container">
            <div class="hero-content-center">
                <h1 class="page-title">{% trans "إدريسي مارت" %}</h1>
                <p class="page-tagline">{% trans "منصة تجمع سوق واحد" %}</p>
                <p class="page-subtitle">
                    {% trans "متخصص يستفيد منه المتخصصون والجمهور العام الذي يحتاج إلى أي من خدمات هذا السوق" %}
                </p>
            </div>
        </div>
    </section>
    <!-- Who We Are Section -->
    <section class="about-section">
        <div class="container">
            <div class="about-content">
                <div class="about-text-block">
                    <h2 class="section-title">{% trans "من نحن" %}</h2>
                    <div class="about-description">
                        <p>
                            {% trans "إدريسي مارت هي منصة متكاملة تجمع جميع خدمات السوق في مكان واحد، مصممة خصيصاً لتلبية احتياجات المتخصصين والجمهور العام على حد سواء." %}
                        </p>
                        <p>
                            {% trans "نقدم حلولاً شاملة تشمل الإعلانات المبوبة، المتجر متعدد التجار، طلب الخدمات، الدورات التدريبية، والفرص الوظيفية، مما يجعل منصتنا المكان المثالي لجميع احتياجات السوق." %}
                        </p>
                        <p>
                            {% trans "نسعى لخلق تجربة مستخدم فريدة تجمع بين السهولة والكفاءة، مع ضمان أعلى مستويات الجودة والموثوقية في جميع خدماتنا." %}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Vision & Mission Section -->
    <section class="vision-mission-section">
        <div class="container">
            <div class="vm-grid">
                <div class="vm-card fancy-card">
                    <div class="vm-icon">
                        <svg width="48"
                             height="48"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2">
                            <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                            <circle cx="12" cy="12" r="3"></circle>
                        </svg>
                    </div>
                    <h3 class="vm-title">{% trans "رؤيتنا" %}</h3>
                    <div class="vm-text">
                        <p>
                            {% trans "أن نكون المنصة الرائدة التي تجمع جميع خدمات السوق في مكان واحد، موفرة تجربة متكاملة للمتخصصين والجمهور العام على حد سواء، من خلال تقديم حلول مبتكرة وموثوقة في الإعلانات المبوبة والتجارة الإلكترونية والخدمات التدريبية." %}
                        </p>
                    </div>
                </div>
                <div class="vm-card fancy-card">
                    <div class="vm-icon">
                        <svg width="48"
                             height="48"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2">
                            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
                            <polyline points="2 17 12 22 22 17"></polyline>
                            <polyline points="2 12 12 17 22 12"></polyline>
                        </svg>
                    </div>
                    <h3 class="vm-title">{% trans "مهمتنا" %}</h3>
                    <div class="vm-text">
                        <p>
                            {% trans "توفير منصة متكاملة تجمع جميع خدمات السوق في مكان واحد، مع ضمان سهولة الوصول والاستخدام للجميع، وتقديم خدمات عالية الجودة في الإعلانات المبوبة، المتجر متعدد التجار، طلب الخدمات، الدورات التدريبية، والفرص الوظيفية بكفاءة وفعالية." %}
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Values Section -->
    <section class="values-section">
        <div class="container">
            <h2 class="section-title">{% trans "قيمنا المؤسسية" %}</h2>
            <div class="values-grid">
                <div class="value-card">
                    <div class="value-icon">
                        <svg width="40"
                             height="40"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14 2 14 8 20 8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10 9 9 9 8 9"></polyline>
                        </svg>
                    </div>
                    <h3 class="value-title">{% trans "الشمولية" %}</h3>
                    <p class="value-text">{% trans "نقدم جميع خدمات السوق في منصة واحدة متكاملة وسهلة الاستخدام" %}</p>
                </div>
                <div class="value-card">
                    <div class="value-icon">
                        <svg width="40"
                             height="40"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2">
                            <circle cx="12" cy="12" r="3"></circle>
                            <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z">
                            </path>
                        </svg>
                    </div>
                    <h3 class="value-title">{% trans "التكنولوجيا الحديثة" %}</h3>
                    <p class="value-text">{% trans "نستخدم أحدث التقنيات الرقمية لضمان تجربة مستخدم متميزة وآمنة" %}</p>
                </div>
                <div class="value-card">
                    <div class="value-icon">
                        <svg width="40"
                             height="40"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2">
                            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"></path>
                        </svg>
                    </div>
                    <h3 class="value-title">{% trans "الثقة والأمان" %}</h3>
                    <p class="value-text">{% trans "نضمن أعلى مستويات الأمان والخصوصية لحماية بيانات مستخدمينا" %}</p>
                </div>
                <div class="value-card">
                    <div class="value-icon">
                        <svg width="40"
                             height="40"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2">
                            <path d="M9 11a3 3 0 1 0 6 0a3 3 0 0 0-6 0"></path>
                            <path d="M17.657 16.657l-4.243 4.243a2 2 0 0 1-2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z"></path>
                        </svg>
                    </div>
                    <h3 class="value-title">{% trans "الوصول السهل" %}</h3>
                    <p class="value-text">{% trans "منصة متاحة للجميع في أي وقت ومن أي مكان مع واجهة سهلة الاستخدام" %}</p>
                </div>
            </div>
        </div>
    </section>
    <!-- What We Offer Section -->
    <section class="offerings-section">
        <div class="container">
            <h2 class="section-title">{% trans "ماذا نقدم؟" %}</h2>
            <div class="offerings-tabs">
                <div class="tab-buttons" role="tablist">
                    <button type="button"
                            id="tab-btn-individuals"
                            class="tab-btn active"
                            data-tab="individuals"
                            aria-selected="true">{% trans "للأفراد" %}</button>
                    <button type="button"
                            id="tab-btn-businesses"
                            class="tab-btn"
                            data-tab="businesses"
                            aria-selected="false">{% trans "للشركات والتجار" %}</button>
                </div>
                <div class="tab-pane fade show active"
                     id="individuals"
                     role="tabpanel"
                     aria-labelledby="tab-btn-individuals">
                    <div class="offerings-list">
                        <div class="offering-item">
                            <div class="offering-icon">📢</div>
                            <p>{% trans "إعلانات مبوبة متنوعة لجميع الاحتياجات اليومية" %}</p>
                        </div>
                        <div class="offering-item">
                            <div class="offering-icon">🛒</div>
                            <p>{% trans "تسوق سهل وآمن من متاجر متعددة التجار" %}</p>
                        </div>
                        <div class="offering-item">
                            <div class="offering-icon">🔧</div>
                            <p>{% trans "طلب خدمات متخصصة من الخبراء المعتمدين" %}</p>
                        </div>
                        <div class="offering-item">
                            <div class="offering-icon">🎓</div>
                            <p>{% trans "دورات تدريبية معتمدة لتطوير المهارات المهنية" %}</p>
                        </div>
                        <div class="offering-item">
                            <div class="offering-icon">💼</div>
                            <p>{% trans "فرص وظيفية متنوعة في مختلف المجالات" %}</p>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade"
                     id="businesses"
                     role="tabpanel"
                     aria-labelledby="tab-btn-businesses">
                    <div class="offerings-list">
                        <div class="offering-item">
                            <div class="offering-icon">🏪</div>
                            <p>{% trans "إدارة متجر إلكتروني متكامل مع أدوات البيع المتقدمة" %}</p>
                        </div>
                        <div class="offering-item">
                            <div class="offering-icon">📊</div>
                            <p>{% trans "تحليلات شاملة لأداء المتجر وزيادة المبيعات" %}</p>
                        </div>
                        <div class="offering-item">
                            <div class="offering-icon">🤝</div>
                            <p>{% trans "خدمات التواصل مع العملاء وإدارة الطلبات" %}</p>
                        </div>
                        <div class="offering-item">
                            <div class="offering-icon">📈</div>
                            <p>{% trans "أدوات التسويق والترويج للمنتجات والخدمات" %}</p>
                        </div>
                        <div class="offering-item">
                            <div class="offering-icon">🔒</div>
                            <p>{% trans "أنظمة دفع آمنة وحماية كاملة للبيانات" %}</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Statistics Section -->
    <section class="stats-section">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" data-target="5000">0</div>
                    <div class="stat-label">{% trans "إعلان مبوب" %}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" data-target="1200">0</div>
                    <div class="stat-label">{% trans "تاجر مسجل" %}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" data-target="25000">0</div>
                    <div class="stat-label">{% trans "مستخدم نشط" %}</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" data-target="500">0</div>
                    <div class="stat-label">{% trans "خدمة مقدمة" %}</div>
                </div>
            </div>
        </div>
    </section>
    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2 class="cta-title">{% trans "انضم إلى منصة السوق الموحد" %}</h2>
                <p class="cta-text">{% trans "ابدأ رحلتك في عالم الأعمال الرقمي مع منصة تجمع جميع خدمات السوق في مكان واحد" %}</p>
                <p class="cta-tagline">{% trans "منصة تجمع سوق واحد" %}</p>
                <div class="cta-buttons">
                    <a href="{% url 'main:contact' %}" class="btn-primary vendor-btn">
                        <span>{% trans "ابدأ الآن" %}</span>
                        <svg width="20"
                             height="20"
                             viewBox="0 0 24 24"
                             fill="none"
                             stroke="currentColor"
                             stroke-width="2">
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                            <polyline points="12 5 19 12 12 19"></polyline>
                        </svg>
                    </a>
                    <a href="{% url 'main:contact' %}" class="btn-secondary vendor-btn">
                        <span>{% trans "تواصل معنا" %}</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

{% endblock %}

{% block extra_js %}
    <script>
        // Tab functionality (scoped per tab group)
        document.querySelectorAll('.tab-buttons').forEach((btnContainer) => {
            const buttons = Array.from(btnContainer.querySelectorAll('.tab-btn'));
            // use nearest .container as the common root for buttons and panes
            const panesRoot = btnContainer.closest('.container') || document.body;
            const panes = Array.from(panesRoot.querySelectorAll('.tab-pane'));

            function deactivateLocal() {
                buttons.forEach(b => {
                    b.classList.remove('active');
                    b.setAttribute('aria-selected', 'false');
                });
                panes.forEach(p => p.classList.remove('active', 'show'));
            }

            const anyActiveLocal = buttons.some(b => b.classList.contains('active'));
            if (!anyActiveLocal && buttons.length) {
                const defaultBtn = buttons[0];
                defaultBtn.classList.add('active');
                defaultBtn.setAttribute('aria-selected', 'true');
                const defaultTarget = defaultBtn.getAttribute('data-tab');
                const el = defaultTarget ? panesRoot.querySelector('#' + defaultTarget) : null;
                if (el) el.classList.add('active', 'show');
            }

            buttons.forEach((button) => {
                button.addEventListener('click', function() {
                    const targetTab = this.getAttribute('data-tab');
                    if (!targetTab) return;
                    const targetEl = panesRoot.querySelector('#' + targetTab) || document.getElementById(targetTab);
                    if (!targetEl) return;

                    deactivateLocal();
                    this.classList.add('active');
                    this.setAttribute('aria-selected', 'true');
                    targetEl.classList.add('active', 'show');
                    this.focus();
                });
            });
        });
        // Statistics counter animation
        const counters = document.querySelectorAll('.stat-number')
        const speed = 200 // lower = faster

        const animateCounters = () => {
            counters.forEach((counter) => {
                const target = +counter.getAttribute('data-target')
                const updateCount = () => {
                    const current = +counter.innerText.replace('+', '')
                    const increment = Math.ceil(target / speed)

                    if (current < target) {
                        counter.innerText = current + increment
                        setTimeout(updateCount, 20)
                    } else {
                        counter.innerText = target.toLocaleString() + '+'
                    }
                }
                updateCount()
            })
        }

        // Trigger animation when section is visible
        const section = document.querySelector('.stats-section')
        let started = false

        const onScroll = () => {
            const sectionTop = section.getBoundingClientRect().top
            const windowHeight = window.innerHeight
            if (!started && sectionTop < windowHeight - 100) {
                started = true
                animateCounters()
            }
        }

        window.addEventListener('scroll', onScroll)
        })
    </script>

{% endblock extra_js %}
