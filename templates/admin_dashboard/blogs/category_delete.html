{% extends 'admin_dashboard/base.html' %}
{% load static i18n %}

{% block title %}
    {% trans "حذف فئة" %} - {% trans "لوحة تحكم المدير" %}
{% endblock %}

{% block admin_content %}
<div class="container-fluid">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow">
                <div class="card-header bg-danger text-white">
                    <h4 class="mb-0">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        {% trans "تأكيد حذف الفئة" %}
                    </h4>
                </div>
                <div class="card-body">
                    <div class="alert alert-warning">
                        <i class="fas fa-info-circle me-2"></i>
                        {% trans "هل أنت متأكد من حذف الفئة التالية؟" %}
                    </div>

                    <div class="text-center mb-4">
                        <div class="d-inline-flex align-items-center gap-3 p-3 rounded"
                             style="background-color: {{ category.color }}20;">
                            <div style="font-size: 3rem; color: {{ category.color }};">
                                <i class="{{ category.icon }}"></i>
                            </div>
                            <div class="text-start">
                                <h5 class="mb-1">{{ category.name }}</h5>
                                {% if category.name_en %}
                                <p class="text-muted mb-0">{{ category.name_en }}</p>
                                {% endif %}
                            </div>
                        </div>
                    </div>

                    {% if category.description %}
                    <div class="mb-3">
                        <p class="text-muted">{{ category.description }}</p>
                    </div>
                    {% endif %}

                    <div class="alert alert-info">
                        <strong>{% trans "معلومات إضافية:" %}</strong>
                        <ul class="mb-0 mt-2">
                            <li>{% trans "عدد المدونات في هذه الفئة:" %} {{ blogs_count }}</li>
                            <li>{% trans "الترتيب:" %} {{ category.order }}</li>
                            <li>
                                {% trans "الحالة:" %}
                                {% if category.is_active %}
                                    <span class="badge bg-success">{% trans "نشط" %}</span>
                                {% else %}
                                    <span class="badge bg-secondary">{% trans "غير نشط" %}</span>
                                {% endif %}
                            </li>
                        </ul>
                    </div>

                    {% if blogs_count > 0 %}
                    <div class="alert alert-warning">
                        <i class="fas fa-exclamation-triangle me-2"></i>
                        <strong>{% trans "تحذير:" %}</strong>
                        {% trans "يوجد" %} {{ blogs_count }} {% trans "مدونة/مدونات مرتبطة بهذه الفئة. سيتم تعيين هذه المدونات إلى 'بدون فئة' بعد الحذف." %}
                    </div>
                    {% endif %}

                    <div class="alert alert-danger">
                        <i class="fas fa-exclamation-circle me-2"></i>
                        <strong>{% trans "تحذير:" %}</strong>
                        {% trans "لا يمكن التراجع عن هذا الإجراء." %}
                    </div>

                    <form method="post" class="mt-4">
                        {% csrf_token %}
                        <div class="d-flex gap-2 justify-content-end">
                            <a href="{% url 'main:admin_blog_categories' %}" class="btn btn-secondary">
                                <i class="fas fa-times me-2"></i>
                                {% trans "إلغاء" %}
                            </a>
                            <button type="submit" class="btn btn-danger">
                                <i class="fas fa-trash me-2"></i>
                                {% trans "تأكيد الحذف" %}
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
