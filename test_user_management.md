# ูุธุงู ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ุงูุดุงูู - ุฏููู ุงูุงุฎุชุจุงุฑ

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ

### 1. ุชุญุฏูุซ ูุนูููุงุช ุงููุณุชุฎุฏู ุงูุดุงูู
**URL:** `/admin/users/<user_id>/update/`
**Method:** POST

**ุงูุญููู ุงููุงุจูุฉ ููุชุนุฏูู:**
- `username` - ุงุณู ุงููุณุชุฎุฏู
- `first_name` - ุงูุงุณู ุงูุฃูู
- `last_name` - ุงุณู ุงูุนุงุฆูุฉ
- `email` - ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- `phone` - ุฑูู ุงููุงุชู
- `whatsapp` - ุฑูู ุงููุงุชุณุงุจ
- `country` - ุงูุฏููุฉ
- `city` - ุงููุฏููุฉ
- `language` - ุงููุบุฉ (ar/en)
- `new_password` - ูููุฉ ูุฑูุฑ ุฌุฏูุฏุฉ (ุงุฎุชูุงุฑู)
- `is_company` - ุดุฑูุฉ ุฃู ูุฑุฏ
- `is_verified` - ุญุงูุฉ ุงูุชูุซูู
- `is_active` - ูุดุท ุฃู ูุนุทู
- `user_role` - ุงูุฏูุฑ (member/staff/superuser)

**ุงูุชุญูู ูู ุงูุตุญุฉ:**
- ุงูุชุญูู ูู ุชูุฑุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุงูุชุญูู ูู ุชูุฑุฏ ุงุณู ุงููุณุชุฎุฏู
- ูููุฉ ุงููุฑูุฑ ูุฌุจ ุฃู ุชููู 8 ุฃุญุฑู ุนูู ุงูุฃูู
- ููุท ุงููุฏูุฑ ุงูุฑุฆูุณู ููููู ุชุบููุฑ ุงูุฃุฏูุงุฑ

---

### 2. ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
**URL:** `/admin/users/<user_id>/reset-password/`
**Method:** POST

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
    "new_password": "ูููุฉ_ุงููุฑูุฑ_ุงูุฌุฏูุฏุฉ",
    "send_email": true/false
}
```

**ุงููุธุงุฆู:**
- ุชุบููุฑ ูููุฉ ุงููุฑูุฑ ููุฑูุง
- ุฅุฑุณุงู ุจุฑูุฏ ุฅููุชุฑููู ุงุฎุชูุงุฑู ูููุณุชุฎุฏู ูุญุชูู ุนูู ูููุฉ ุงููุฑูุฑ ุงูุฌุฏูุฏุฉ
- ุงูุชุญูู ูู ุทูู ูููุฉ ุงููุฑูุฑ (8 ุฃุญุฑู ูุญุฏ ุฃุฏูู)

---

### 3. ุฅุฑุณุงู ุฅุดุนุงุฑ ูููุณุชุฎุฏู
**URL:** `/admin/users/<user_id>/send-notification/`
**Method:** POST

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
    "title": "ุนููุงู ุงูุฅุดุนุงุฑ",
    "message": "ูุต ุงูุฑุณุงูุฉ",
    "send_email": true/false,
    "send_sms": true/false
}
```

**ุงููุธุงุฆู:**
- ุฅุฑุณุงู ุฅุดุนุงุฑ ุนุจุฑ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุฅุฑุณุงู ุฅุดุนุงุฑ ุนุจุฑ SMS (ูุญุชุงุฌ ุฅูู ุชูุงูู ูุน ูุฒูุฏ SMS)
- ูุฌุจ ุงุฎุชูุงุฑ ุทุฑููุฉ ุฅุฑุณุงู ูุงุญุฏุฉ ุนูู ุงูุฃูู

---

### 4. ุญุฐู ุงููุณุชุฎุฏู
**URL:** `/admin/users/<user_id>/delete/`
**Method:** POST

**ุงูุจูุงูุงุช ุงููุทููุจุฉ:**
```json
{
    "delete_ads": true/false
}
```

**ุงููุธุงุฆู:**
- ุญุฐู ุงููุณุชุฎุฏู ุจุดูู ููุงุฆู
- ุฎูุงุฑ ุญุฐู ุฌููุน ุฅุนูุงูุงุช ุงููุณุชุฎุฏู ุฃูุถูุง
- ููุน ุญุฐู ุงูุญุณุงุจ ุงูุฎุงุต ุจู
- ููุน ุญุฐู ุงููุฏูุฑูู ุงูุฑุฆูุณููู ุงูุขุฎุฑูู

---

## ูุงุฌูุฉ ุงููุณุชุฎุฏู (UI) ูู user_detail.html

### ุฃุฒุฑุงุฑ ุงูุฅุฌุฑุงุกุงุช ุงูุฌุฏูุฏุฉ:
1. **ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ** (btn-warning)
2. **ุฅุฑุณุงู ุฅุดุนุงุฑ** (btn-info)
3. **ุญุธุฑ ุงููุณุชุฎุฏู** (btn-danger)
4. **ุญุฐู ุงููุณุชุฎุฏู** (btn-dangerุ ูุธูุฑ ููุท ูุบูุฑ ุงููุฏูุฑูู)

### ุงูููุงุฐุฌ ุงูููุจุซูุฉ (Modals):

#### 1. Reset Password Modal
- ุญูููู ููููุฉ ุงููุฑูุฑ ูุน ุฅููุงููุฉ ุงูุฅุธูุงุฑ/ุงูุฅุฎูุงุก
- ุงูุชุญูู ูู ุงูุชุทุงุจู
- ุฎูุงุฑ ุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู

#### 2. Send Notification Modal
- ุญูู ุงูุนููุงู
- ููุทูุฉ ุงููุต
- ุฎูุงุฑุงุช ุงูุฅุฑุณุงู (Email/SMS)

#### 3. Delete User Modal
- ุชุญุฐูุฑ ุจุงูุฎุทูุฑุฉ
- ุนุฑุถ ุงุณู ุงููุณุชุฎุฏู ููุชุฃููุฏ
- ุฎูุงุฑ ุญุฐู ุงูุฅุนูุงูุงุช

---

## ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ุชุญุฏูุซ ุงููุณุชุฎุฏู:
```bash
# ุงูุชุญ ุตูุญุฉ ุชูุงุตูู ุงููุณุชุฎุฏู
http://localhost:8000/admin/users/1/

# ูู ุจุชุนุฏูู:
- ุงูุงุณู ุงููุงูู
- ุงูุจุฑูุฏ ุงูุฅููุชุฑููู
- ุฑูู ุงููุงุชู
- ูููุฉ ุงููุฑูุฑ (ุงุฎุชูุงุฑู)
- ุงูุฏูุฑ
- ุญุงูุฉ ุงูุชูุซูู

# ุงุถุบุท "ุญูุธ ุงูุชุบููุฑุงุช"
# ุชุญูู ูู ุฑุณุงูุฉ ุงููุฌุงุญ
```

### 2. ุงุฎุชุจุงุฑ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ:
```bash
# ูู ุตูุญุฉ ุชูุงุตูู ุงููุณุชุฎุฏู
# ุงุถุบุท ุฒุฑ "ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ"
# ุฃุฏุฎู ูููุฉ ูุฑูุฑ ุฌุฏูุฏุฉ
# ุงุฎุชุฑ "ุฅุฑุณุงู ุจุฑูุฏ ุฅููุชุฑููู" (ุงุฎุชูุงุฑู)
# ุงุถุบุท "ุชุฃููุฏ"
# ุชุญูู ูู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ุฅุฐุง ุชู ุชูุนููู
```

### 3. ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุฅุดุนุงุฑ:
```bash
# ุงุถุบุท ุฒุฑ "ุฅุฑุณุงู ุฅุดุนุงุฑ"
# ุฃุฏุฎู ุงูุนููุงู ูุงููุต
# ุงุฎุชุฑ Email ุฃู SMS ุฃู ูููููุง
# ุงุถุบุท "ุฅุฑุณุงู"
# ุชุญูู ูู ุงุณุชูุงู ุงูุฅุดุนุงุฑ
```

### 4. ุงุฎุชุจุงุฑ ุญุฐู ุงููุณุชุฎุฏู:
```bash
# ุงุถุบุท ุฒุฑ "ุญุฐู ุงููุณุชุฎุฏู"
# ุงุฎุชุฑ ุญุฐู ุงูุฅุนูุงูุงุช (ุงุฎุชูุงุฑู)
# ุงุถุบุท "ุชุฃููุฏ ุงูุญุฐู"
# ุชุฃููุฏ ูุฑุฉ ุฃุฎุฑู
# ูุฌุจ ุฅุนุงุฏุฉ ุงูุชูุฌูู ูุตูุญุฉ ูุงุฆูุฉ ุงููุณุชุฎุฏููู
```

---

## ุงูุชุญูู ูู ุงูุฃูุงู

### ุงูุญูุงูุฉ ุงููุทุจูุฉ:
โ CSRF Token ูู ุฌููุน ุงูุทูุจุงุช
โ ููุท ุงููุฏูุฑูู ุงูุฑุฆูุณููู ูููููู ุงููุตูู
โ ููุน ุญุฐู ุญุณุงุจู ุงูุฎุงุต
โ ููุน ุญุฐู ูุฏูุฑูู ุฑุฆูุณููู ุขุฎุฑูู
โ ุงูุชุญูู ูู ุชูุฑุฏ ุงูุจุฑูุฏ ุงูุฅููุชุฑููู ูุงุณู ุงููุณุชุฎุฏู
โ ุงูุชุญูู ูู ุตุญุฉ ูููุฉ ุงููุฑูุฑ (8 ุฃุญุฑู ูุญุฏ ุฃุฏูู)
โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุดุงููุฉ
โ ุฑุณุงุฆู ูุงุถุญุฉ ุจุงูุนุฑุจูุฉ

---

## ุงููููุงุช ุงููุนุฏูุฉ:

### Backend:
1. **main/views.py**
   - ุชุญุฏูุซ `admin_user_update()` - ุณุทุฑ 3809
   - ุฅุถุงูุฉ `admin_reset_user_password()` - ุฌุฏูุฏ
   - ุฅุถุงูุฉ `admin_send_user_notification()` - ุฌุฏูุฏ
   - ุฅุถุงูุฉ `admin_delete_user()` - ุฌุฏูุฏ

2. **main/urls.py**
   - ุฅุถุงูุฉ 3 URL patterns ุฌุฏูุฏุฉ

### Frontend:
3. **templates/admin_dashboard/user_detail.html**
   - ุฅุถุงูุฉ 10+ ุญููู ูุงุจูุฉ ููุชุนุฏูู
   - ุฅุถุงูุฉ 4 ุฃุฒุฑุงุฑ ุฅุฌุฑุงุกุงุช ุฌุฏูุฏุฉ
   - ุฅุถุงูุฉ 3 modals ุดุงููุฉ
   - ุฅุถุงูุฉ JavaScript handlers
   - ุฅุถุงูุฉ password validation
   - Mobile responsive forms

---

## ููุงุญุธุงุช ูููุฉ:

### ููุฅูุชุงุฌ:
1. **ุฅุนุฏุงุฏ SMTP** ูุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู:
   ```python
   # ูู settings.py
   EMAIL_BACKEND = 'django.core.mail.backends.smtp.EmailBackend'
   EMAIL_HOST = 'smtp.gmail.com'
   EMAIL_PORT = 587
   EMAIL_USE_TLS = True
   EMAIL_HOST_USER = 'your-email@gmail.com'
   EMAIL_HOST_PASSWORD = 'your-app-password'
   DEFAULT_FROM_EMAIL = 'IdrissiMart <noreply@idrissimart.com>'
   ```

2. **ุชูุงูู SMS Provider** (ุงุฎุชูุงุฑู):
   ```python
   # ูุซุงู Twilio
   from twilio.rest import Client

   def send_sms(phone, message):
       client = Client(account_sid, auth_token)
       message = client.messages.create(
           body=message,
           from_='+1234567890',
           to=phone
       )
   ```

3. **Logging** ูููุฑุงูุจุฉ:
   - ุชุณุฌูู ุฌููุน ุนูููุงุช ุงูุญุฐู
   - ุชุณุฌูู ุชุบููุฑุงุช ุงูุฃุฏูุงุฑ
   - ุชุณุฌูู ุฅุนุงุฏุฉ ุชุนููู ูููุงุช ุงููุฑูุฑ

---

## ุงูุญุงูุฉ ุงูุญุงููุฉ:
โ Frontend ูุงูู ูุฌุงูุฒ
โ Backend ูุงูู ูุน validation
โ URLs ูุถุงูุฉ
โ JavaScript handlers ุฌุงูุฒุฉ
โ Modals ูุน ุชุตููู ุงุญุชุฑุงูู
โ Mobile responsive
โ ุฏุนู Dark/Light theme
โ ุฑุณุงุฆู ุจุงูุนุฑุจูุฉ

๐ **ูุญุชุงุฌ ุงุฎุชุจุงุฑ:**
- ุฅุฑุณุงู ุงูุจุฑูุฏ ุงูุฅููุชุฑููู (ูุญุชุงุฌ SMTP)
- SMS (ูุญุชุงุฌ ูุฒูุฏ ุฎุฏูุฉ)
- ุงูุงุฎุชุจุงุฑ ุนูู ุจูุงูุงุช ุญููููุฉ

---

## ุงูุฎุทูุฉ ุงูุชุงููุฉ:
ุชุดุบูู ุงูุณูุฑูุฑ ูุงุฎุชุจุงุฑ ุฌููุน ุงููุธุงุฆู!

```bash
python manage.py runserver
```

ุซู ุงูุชุญ:
```
http://localhost:8000/admin/users/
```
